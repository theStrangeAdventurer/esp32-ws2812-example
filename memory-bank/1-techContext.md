Проект поделен на две большие части:

- Основная часть: расположена в директории main (точка входа - main/main.c)
- Веб часть: расположена в директории web (точка входа - web/src/index.tsx)

Основная часть включает в себя несколько модулей

main
├── CMakeLists.txt // Конфигурация приложения
├── effect_manager.c // Логика управления состоянием и эффектами свечение
├── effect_manager.h
├── idf_component.yml // Установленные внешние зависимости
├── led_effects.c // Библиотека эффектов свечения
├── led_effects.h
├── led_strip_encoder.c // Код энкодера для адресных светодиодов
├── led_strip_encoder.h
├── main.c // Точка входа в код светильника
├── spiffs_manager.c // Код связанный с настройками файловой системы esp32 - в данном проекте используется для хранения уже собранного веб приложения для управления светильником
├── spiffs_manager.h
├── web_server.c // Код веб-сервера, который предоставляет api а также раздает статику веб-приложения, которая лежит на файловой системе
├── web_server.h
├── wifi_manager.c // Код для управление wi-fi - в настоящий момент модуль умеет самостоятельно подключаться к домашнему wi-fi
└── wifi_manager.h

Часть с веб-приложением
Написана на ts и preact (чтобы занимать меньше веса после сборки)

web
├── build-single-file.js // Конфиг который собирает проект в один файл после компиляции - чтобы удобно было загружать на esp32 
├── dist // Собранные файлы которые загружаются на сервер с помощью api веб-сервера
│   ├── bundle.js
│   └── index.html
├── index.html // Файлик который берем за основу html
├── package.json 
├── package-lock.json
├── rollup.config.js // Конфиг роллапа - с помощью него собираем приложение
├── src
│   ├── index.tsx // Точка входа и вся логика
│   ├── styles.css // Все стили приложения живут тут 
│   └── utils.ts // Что-то вынес сюда чтобы не раздувать точку входа
└── tsconfig.json

Что делать если просят круглить углы в эффекте? 

- Нужно применить следующий код 


#if LED_SHOULD_ROUND == 1
      if (is_corner_led(i)) {
        // Disable corner LEDs
        params->led_strip_pixels[i * 3 + 0] = 0;
        params->led_strip_pixels[i * 3 + 1] = 0;
        params->led_strip_pixels[i * 3 + 2] = 0;
        continue;
      }
#endif

Где i - Это текущий индекс пикселя

